<!DOCTYPE html>
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://jet.php5.cz/thebox/favicon/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="http://jet.php5.cz/thebox/favicon/favicon-196x196.png" sizes="196x196" />
<meta name="application-name" content="&nbsp;" />
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="http://jet.php5.cz/thebox/favicon/mstile-144x144.png" />
<meta name="msapplication-wide310x150logo" content="http://jet.php5.cz/thebox/favicon/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="http://jet.php5.cz/thebox/favicon/mstile-310x310.png" />
<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="http://jet.php5.cz/thebox/js/collapsiblepanel/jquery.collapsiblepanel.js"></script>
    <script src="http://jet.php5.cz/thebox/js/system.js"></script>
    <link rel="stylesheet" type="text/css" href="http://jet.php5.cz/thebox/css/menu.css">
    <link rel="stylesheet" type="text/css" href="http://jet.php5.cz/thebox/css/general.css">
    <link rel="stylesheet" type="text/css" href="http://jet.php5.cz/thebox/css/table.css">
    <link rel="stylesheet" type="text/css" href="http://jet.php5.cz/thebox/css/loader.css">
    <title>
        The Box - System
    </title>
    <style media="screen" type="text/css">
        button {
            width: 12em;
            height: 2em;
        }
    </style>
</head>
<body>
    <header>
        <div class="nav">
            <ul>
                <li>
                    <a href="index.htm">Home</a>
                </li>
                <li>
                    <a href="graphs1.htm">Graphs 1</a>
                </li>
                <li>
                    <a href="graphs2.htm">Graphs 2</a>
                </li>
                <li>
                    <a href="sched.htm">Scheduler</a>
                </li>
                <li>
                    <a class="active" href="system.htm">System</a>
                </li>
            </ul>
        </div>
    </header>
    <div class="wrapContent message">
        <div class="loader">
        </div>
    </div>
    <div class="wrapContent data" style="visibility: hidden">
        <div class="content">
            <table>
                <thead>
                    <tr>
                        <th>
                            Local Time
                        </th>
                        <td class="remote">
                            <span id="LocalTime"></span>
                        </td>
                    </tr>
                    <tr>
                        <th class="subtitle">
                            Last NTP sync
                        </th>
                        <th class="subtitle">
                            <span id="LastSync"></span>
                        </th>
                    </tr>
                </thead>
            </table>
        </div>
        <div class="content">
            <table>
                <thead>
                    <tr>
                        <th>
                            Stats
                        </th>
                        <th>
                            Main Unit
                        </th>
                        <th>
                            Remote Unit
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="leftHeader">Uptime</td>
                        <td>
                            <span class="Value"></span>
                        </td>
                        <td>
                            <span class="Value"></span>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftHeader">Voltage</td>
                        <td class="tdVal">
                            <span class="Value"></span>mV
                        </td>
                        <td class="tdVal">
                            <span class="Value"></span>mV
                        </td>
                    </tr>
                    <tr>
                        <td class="leftHeader">Last DS Age</td>
                        <td class="tdVal">
                            <span class="Value"></span>s
                        </td>
                        <td class="tdVal">
                            <span class="Value"></span>s
                        </td>
                    </tr>
                    <tr>
                        <td class="leftHeader">Failed Msg Cnt</td>
                        <td>
                            <span class="Value"></span>
                        </td>
                        <td>
                            <span class="Value"></span>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftHeader"></td>
                        <td colspan="2">
                            <form action="reboot" method="post">
                                <input type="hidden" value="" />
                                <button type="submit" name="reboot" value="1" onclick="return confirm('Are you sure?')" style="color: #c90000; font-weight: bold">
                                    Reboot
                                </button>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="content collapse">
            <div class="ui-widget-header">
                <table>
                    <thead>
                        <tr>
                            <th style="text-align: left">
                                + Settings
                            </th>
                        </tr>
                    </thead>
                </table>
            </div>
            <div class="settings ui-widget-content" style="display: none">
                <br />
                <form id="settingsForm" method="post" action="settings.data">
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    General settings
                                </th>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="leftHeader">
                                    Remote DS timeout
                                </td>
                                <td colspan="2">
                                    <input type="number" id="timeout" min="0" max="5184000" step="1" name="remoteDStimeout" style="width: 7em" required> seconds
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader">
                                    Invalid DS action
                                </td>
                                <td style="text-align: left">
                                    <input type="radio" name="action" value="0">
                                    Keep last state
                                </td>
                                <td style="text-align: left">
                                    <input type="radio" name="action" value="1">
                                    Turn relay OFF
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader">Thingspeak</td>
                                <td style="text-align: left">
                                    <input type="radio" name="thingspeak" value="0">
                                    OFF
                                </td>
                                <td style="text-align: left">
                                    <input type="radio" name="thingspeak" value="1">
                                    ON
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader">
                                    Thingspeak address
                                </td>
                                <td colspan="2">
                                    <input type="text" id="tsaddr" name="tsaddr" required>
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader">
                                    NTP address
                                </td>
                                <td colspan="2">
                                    <input type="text" id="ntpaddr" name="ntpaddr" required>
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader"></td>
                                <td colspan="2">
                                    <button type="submit" form="settingsDefaultForm" onclick="return confirm('Are you sure?')" style="color: #c90000; font-weight: bold">
                                        Default
                                    </button>
                                    &nbsp;
                                    <button type="submit" form="settingsForm" style="color: green; font-weight: bold">
                                        Save & Apply
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
                <form action="settings.default" id="settingsDefaultForm" method="post">
                    <input type="hidden" value="" />
                </form>
                <form id="networkForm" method="post" action="network.data">
                    <br />
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    Network
                                </th>
                                <th colspan="2"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="leftHeader">
                                    DHCP
                                </td>
                                <td>
                                    <input type="radio" name="DHCP" value="1">
                                    ON
                                </td>
                                <td>
                                    <input type="radio" name="DHCP" value="0">
                                    OFF
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader">IP Address</td>
                                <td colspan="2">
                                    <input class="Net" type="number" name="IP" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="IP" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="IP" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="IP" min="0" max="255" step="1" required>
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader">Subnet Mask</td>
                                <td colspan="2">
                                    <input class="Net" type="number" name="Mask" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="Mask" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="Mask" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="Mask" min="0" max="255" step="1" required>
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader">Gateway</td>
                                <td colspan="2">
                                    <input class="Net" type="number" name="GW" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="GW" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="GW" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="GW" min="0" max="255" step="1" required>
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader">DNS</td>
                                <td colspan="2">
                                    <input class="Net" type="number" name="DNS" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="DNS" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="DNS" min="0" max="255" step="1" required>
                                    <input class="Net" type="number" name="DNS" min="0" max="255" step="1" required>
                                </td>
                            </tr>
                            <tr>
                                <td class="leftHeader"></td>
                                <td colspan="2">
                                    <button type="submit" form="networkForm" style="color: green; font-weight: bold">
                                        Save & Apply
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $().ready(function () {
            $('.collapse').collapsiblePanel();
        });
    </script>
</body>
</html>
